version: 1
prefixes:
  xsd: "http://www.w3.org/2001/XMLSchema#"
  xs: "http://www.w3.org/2001/XMLSchema"
  rdfs: "http://www.w3.org/2000/01/rdf-schema#"
  rdf:  "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  owl:  "http://www.w3.org/2002/07/owl#"
  ex:   "http://example.org/"

rules:
  - rule:
    name: 1) complexType and element ref -> ObjectProperty
    element_type: XsdComplexType
    selector:
      - pattern: has_child
        id: child_1
        child_type: XsdComplexType
        relative_depth: 1
    emit: |
      f"""
      {PREFIX}:has{get_elem_name(concept)} a owl:ObjectProperty ;
        rdfs:label 'has{get_elem_name(concept)}'@en ;
        rdfs:domain {PREFIX}:{get_elem_name(element)} ;
        rdfs:range {PREFIX}:{get_elem_name(concept)} ;
        {prov_block}
      """

  - rule:
    name: 2) complexTpe -> Class
    element_type: XsdComplexType
    emit: |
      f"""
      {PREFIX}:{get_elem_name(element)} a owl:Class ;
        rdfs:label '{get_elem_name(element)}'@en ;
        {prov_block}
      """

  - rule:
    name: 3a) annotation (complexType) -> comment ;
    element_type: XsdComplexType
    selector:
    - pattern: has_attribute
      attribute: annotation
    emit: |
      f"""
      {PREFIX}:{get_elem_name(element)} rdfs:comment '{element.annotation}'@en .
      """
